@model IEnumerable<MusicStore.Models.BAIHAT>
@{
    ViewBag.Title = "Quản lí bài hát";
    Layout = "~/Views/Shared/LayoutAdmin/_Layout.cshtml";
    var grid = new WebGrid(source: Model, canSort: true, canPage: true, rowsPerPage: 10);
}
<h2>
    Quản lí bài hát</h2>
<p>
    @Html.ActionLink("Thêm bài hát", "Create")
</p>
@grid.GetHtml(
    tableStyle: "webgrid-table",
    headerStyle: "webgrid-header",
    footerStyle: "paging-number",
    alternatingRowStyle: "webgrid-alternatingRow",
    rowStyle: "webgrid-row",
    columns: grid.Columns(
        grid.Column(
            header: "",
            style: "",
            format: (item) => new HtmlString(Html.ActionLink("Sửa", "Edit", new { id = item.MaBaiHat }).ToString() +
                                             Html.ActionLink("Xóa", "Delete", new { id = item.MaBaiHat }).ToString())
        ),
        grid.Column("TenBaiHat", "Tên bài hát"),
        grid.Column("MaNhacSi", "Mã nhạc sĩ"),
        grid.Column("MaCaSiTrinhBay", "Mã ca sĩ trình bày"),
        grid.Column("MaTheLoai", "Mã thể loại"),
        grid.Column("MaTinhTrangBaiHat", "Mã tình trạng bài hát"),
        grid.Column("SoLuongNghe", "Số lượng nghe"),
        grid.Column("MaChatLuongAmThanh", "Mã chất lượng âm thanh"),
        grid.Column("NgayTiepNhan", "Ngày tiếp nhận"),
        grid.Column("SoLuotDownload", "Số lượt Download"),
        grid.Column("Diem", "Điểm"),
        grid.Column("LinkDownload", "Link")
        )
)
@{
    if (!string.IsNullOrWhiteSpace(grid.SortColumn))
    {
    <script type="text/javascript">
        $('thead > tr > th > a[href*="sort=@grid.SortColumn"]').parent().append('@(grid.SortDirection == SortDirection.Ascending ? "^" : "v")');
    </script>
    }
}
<p class="sum">
    Tổng số bài hát hiện có: <em>@Html.Encode(grid.TotalRowCount)</em></p>
